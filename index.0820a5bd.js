const e={Equation:"=",Assignment:"≝",FunctionDefinition:"ᶠ≝",Stats:"stats",BoxPlot:"boxplot",DotPlot:"dotplot",Histogram:"histogram",IndependentTTest:"ittest",TTest:"ttest",Regression:"~",Error:"",Constant:n,MixedNumber:n,DotAccess:".",FunctionCall:t,FunctionExponent:"ᶠ^",FunctionFactorial:"ᶠ!",Identifier:t,Integral:"∫",Derivative:"∂",Prime:e=>"′".repeat(e.order),List:"[ ]",Range:"[...]",ListAccess:"A[n]",BareSeq:",",ParenSeq:"( , )",UpdateRule:"→",AssignmentExpression:"≔",ListComprehension:"[ for ]",OrderedPairAccess:".⁽ ⁾",Piecewise:"{ }",Product:"∏",Sum:"∑",SeededFunctionCall:"random",Add:"+",Subtract:"−",Multiply:"×",Divide:e=>{const t=d(e);return t?n({_constantValue:t}):"÷"},Exponent:"^",Negative:e=>{if("Identifier"===e.args[0].type&&"infty"===e.args[0]._symbol)return"-infty";if("Divide"!==e.args[0].type)return"-";const t=d(e.args[0]);return t?n({_constantValue:t},!0):"-"},And:"⋂","Comparator['<']":"<","Comparator['>']":">","Comparator['<=']":"≤","Comparator['>=']":"≥","Comparator['=']":"=",Seed:"",ExtendSeed:"",DoubleInequality:e=>{const t=document.createDocumentFragment(),n=document.createElement("div");n.textContent=e.args[1].replace("<=","≤").replace(">=","≥"),t.appendChild(n);const r=document.createElement("div");return r.textContent=e.args[3].replace("<=","≤").replace(">=","≥"),t.appendChild(r),t}};function t(e){if("factorial"===e._symbol)return"!";const[t,n]=e._symbol.split("_");if(n){const e=document.createDocumentFragment();e.appendChild(document.createTextNode(t));const r=document.createElement("sub");return r.textContent=n,e.appendChild(r),e}return t}function n(e,t=!1){const n=e._constantValue;if("object"==typeof n){let e=n.n+"",r=n.d+"";const a="-"===e[0]==("-"===r[0])!==t;if(e=e.replace(/^-/,""),r=r.replace(/^-/,""),"1"===r)return(a?"":"-")+e;if("0"===r)return"0"===e?"undefined":(a?"":"-")+"infty";if(!e.includes("e")&&!r.includes("e")){let t=0,n=+r;for(;1!==n&&!(n%5);)n/=5,t++;for(;1!==n&&!(n%2);)n/=2,t--;if(1===n){const n=t<0?5**-t:2**t;return e=+e*n+"",r=+r*n+"",(a?"":"-")+(e.length<r.length?"0."+"0".repeat(r.length-e.length-1)+e:e.slice(0,1-r.length)+"."+e.slice(1-r.length)).replace(/\.?0+$/,"")}}const o=document.createElement("span");o.className="fraction";const s=document.createElement("span");s.textContent=e,o.appendChild(s);const i=document.createElement("span");if(i.textContent=r,o.appendChild(i),!a){const e=document.createDocumentFragment();return e.appendChild(document.createTextNode("- ")),e.appendChild(o),e}return o}return isNaN(n)?"undefined":n+""}const r=Desmos.require("parser").parse,a=Desmos.GraphingCalculator(document.getElementById("calculator"),{pasteGraphLink:!0});a.setExpression({latex:"x^{2}+y^{2}=10"});const o=document.getElementById("count"),s=document.getElementById("tree");function i(){const e=a.getExpressions().find((e=>e.latex));if(!e)return c();s.textContent="";const t=document.createElement("ul"),n=r(e.latex,{allowDt:!0,allowIndex:!0});if(n.isError)return c();t.appendChild(l(n)),s.appendChild(t),o.textContent=s.getElementsByTagName("div").length+""}function c(){s.textContent="",o.textContent="?"}function l(t){const n=document.createElement("li"),r=document.createElement("DoubleInequality"===t.type?"span":"div"),a=e[t.type],o="function"==typeof a?a(t):a;r.textContent="",r.appendChild("string"==typeof o?document.createTextNode(o):o),n.appendChild(r);const s=function(e){switch(e.type){case"Assignment":return[u(e._symbol),e._expression];case"Derivative":return[u(e._symbol),e.args[0]];case"FunctionDefinition":return[{type:"FunctionCall",_symbol:e._symbol,args:e._argSymbols.map(u)},e._expression];case"OrderedPairAccess":return[e.args[0],u("1"===e.args[1].scalarExprString()?"x":"y")];case"FunctionExponent":return[{type:"FunctionCall",_symbol:e.args[0]._symbol,args:[e.args[1]]},e.args[2]];case"FunctionFactorial":return[{type:"FunctionCall",_symbol:e.args[0]._symbol,args:[e.args[1]]}];case"Regression":case"Equation":return[e._lhs,e._rhs];case"DoubleInequality":return"args"in e?[e.args[0],e.args[2],e.args[4]]:[];case"Divide":return d(e)?[]:e.args;case"Negative":return"Identifier"===e.args[0].type&&"infty"===e.args[0]._symbol||"Divide"===e.args[0].type&&d(e.args[0])?[]:e.args;case"ListComprehension":case"SeededFunctionCall":return e.args.slice(1);default:return"args"in e?e.args:[]}}(t);if(s.length){const e=document.createElement("ul");s.forEach((t=>e.appendChild(l(t)))),n.appendChild(e)}return n}function u(e){return{type:"Identifier",_symbol:e}}function d(e){const[t,r]=e.args;if("Constant"===t.type&&"Constant"===r.type){const e=n(t),a=n(r);if(!("string"!=typeof e||e.includes(".")||e.includes("e")||"string"!=typeof a||a.includes(".")||a.includes("e")))return{n:e,d:a}}}a.observeEvent("change",i),i();
//# sourceMappingURL=index.0820a5bd.js.map
